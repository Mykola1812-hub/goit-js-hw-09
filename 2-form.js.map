{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst emailInput = form.elements.email;\nconst messageInput = form.elements.message;\nconst localStorageKey = 'input-elements';\n\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nfunction saveToLS(key, value) {\n  const zip = JSON.stringify(value);\n  localStorage.setItem(key, zip);\n}\n\nfunction loadFromLS(key) {\n  const zip = localStorage.getItem(key);\n  if (!zip) return null;\n\n  try {\n    return JSON.parse(zip);\n  } catch (error) {\n    return null;\n  }\n}\n\nfunction initForm() {\n  const savedData = loadFromLS(localStorageKey);\n\n  if (savedData) {\n    formData.email = savedData.email || '';\n    formData.message = savedData.message || '';\n  } else {\n    formData.email = '';\n    formData.message = '';\n  }\n\n  emailInput.value = formData.email;\n  messageInput.value = formData.message;\n};\n\ninitForm();\n\nform.addEventListener('input', (e) => {\n  const { name, value } = e.target;\n\n  if (name !== 'email' && name !== 'message') return;\n\n  formData[name] = value;\n  saveToLS(localStorageKey, formData);\n});\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  if (!formData.email.trim() || !formData.message.trim()) {\n    alert('Fill all fields!');\n    return;\n  }\n\n  console.log({ ...formData });\n\n  localStorage.removeItem(localStorageKey);\n\n  formData.email = '';\n  formData.message = '';\n\n  form.reset();\n});\n"],"names":["form","emailInput","messageInput","localStorageKey","formData","saveToLS","key","value","zip","loadFromLS","initForm","savedData","e","name"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,SAAS,MAC3BE,EAAeF,EAAK,SAAS,QAC7BG,EAAkB,iBAGlBC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEA,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAM,KAAK,UAAUD,CAAK,EAChC,aAAa,QAAQD,EAAKE,CAAG,CAC/B,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAME,EAAM,aAAa,QAAQF,CAAG,EACpC,GAAI,CAACE,EAAK,OAAO,KAEjB,GAAI,CACF,OAAO,KAAK,MAAMA,CAAG,CACtB,MAAe,CACd,OAAO,IACR,CACH,CAEA,SAASE,GAAW,CAClB,MAAMC,EAAYF,EAAWN,CAAe,EAExCQ,GACFP,EAAS,MAAQO,EAAU,OAAS,GACpCP,EAAS,QAAUO,EAAU,SAAW,KAExCP,EAAS,MAAQ,GACjBA,EAAS,QAAU,IAGrBH,EAAW,MAAQG,EAAS,MAC5BF,EAAa,MAAQE,EAAS,OAChC,CAEAM,IAEAV,EAAK,iBAAiB,QAAUY,GAAM,CACpC,KAAM,CAAE,KAAAC,EAAM,MAAAN,GAAUK,EAAE,OAEtBC,IAAS,SAAWA,IAAS,YAEjCT,EAASS,CAAI,EAAIN,EACjBF,EAASF,EAAiBC,CAAQ,EACpC,CAAC,EAEDJ,EAAK,iBAAiB,SAAWY,GAAM,CAGrC,GAFAA,EAAE,eAAc,EAEZ,CAACR,EAAS,MAAM,KAAI,GAAM,CAACA,EAAS,QAAQ,OAAQ,CACtD,MAAM,kBAAkB,EACxB,MACD,CAED,QAAQ,IAAI,CAAE,GAAGA,CAAU,CAAA,EAE3B,aAAa,WAAWD,CAAe,EAEvCC,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBJ,EAAK,MAAK,CACZ,CAAC"}