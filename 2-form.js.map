{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\nconst email = form.elements.email;\nconst message = form.elements.message;\nconst localStorageKey = \"input-elements\";\n\nfunction saveToLS(key, value) {\n    const zip = JSON.stringify(value);\n    const item = localStorage.setItem(key, zip);\n}\n\nfunction loadFromLS(key) {\n    const zip = localStorage.getItem(key);\n\n    try {\n        return JSON.parse(zip);\n    } catch (error) {\n      return zip;\n    }\n}\n\nlet formData = new FormData(form);\n\nform.addEventListener(\"input\", () => {\n    formData.set('email', email.value)\n    formData.set('message', message.value)\n\n    const values = {\n        email: formData.get('email'),\n        message: formData.get('message'),\n    }\n\n    saveToLS(localStorageKey, values);\n})\n\n\nconst savedData = loadFromLS(localStorageKey);\nif (savedData) {\n    email.value = savedData.email || \"\";\n    message.value = savedData.message || \"\";\n    formData.set('email', email.value);\n    formData.set('message', message.value);\n}\n\n\nform.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n\n    if (!email.value || !message.value) {\n        return alert(\"Fill all fields!\");\n    }\n\n    console.log({\n        email: email.value,\n        message: message.value,\n    });\n    \n    localStorage.removeItem(localStorageKey);\n    form.reset();\n})"],"names":["form","email","message","localStorageKey","saveToLS","key","value","zip","loadFromLS","formData","values","savedData"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,SAAS,MACtBE,EAAUF,EAAK,SAAS,QACxBG,EAAkB,iBAExB,SAASC,EAASC,EAAKC,EAAO,CAC1B,MAAMC,EAAM,KAAK,UAAUD,CAAK,EACnB,aAAa,QAAQD,EAAKE,CAAG,CAC9C,CAEA,SAASC,EAAWH,EAAK,CACrB,MAAME,EAAM,aAAa,QAAQF,CAAG,EAEpC,GAAI,CACA,OAAO,KAAK,MAAME,CAAG,CACxB,MAAe,CACd,OAAOA,CACR,CACL,CAEA,IAAIE,EAAW,IAAI,SAAST,CAAI,EAEhCA,EAAK,iBAAiB,QAAS,IAAM,CACjCS,EAAS,IAAI,QAASR,EAAM,KAAK,EACjCQ,EAAS,IAAI,UAAWP,EAAQ,KAAK,EAErC,MAAMQ,EAAS,CACX,MAAOD,EAAS,IAAI,OAAO,EAC3B,QAASA,EAAS,IAAI,SAAS,CAClC,EAEDL,EAASD,EAAiBO,CAAM,CACpC,CAAC,EAGD,MAAMC,EAAYH,EAAWL,CAAe,EACxCQ,IACAV,EAAM,MAAQU,EAAU,OAAS,GACjCT,EAAQ,MAAQS,EAAU,SAAW,GACrCF,EAAS,IAAI,QAASR,EAAM,KAAK,EACjCQ,EAAS,IAAI,UAAWP,EAAQ,KAAK,GAIzCF,EAAK,iBAAiB,SAAW,GAAM,CAGnC,GAFA,EAAE,eAAc,EAEZ,CAACC,EAAM,OAAS,CAACC,EAAQ,MACzB,OAAO,MAAM,kBAAkB,EAGnC,QAAQ,IAAI,CACR,MAAOD,EAAM,MACb,QAASC,EAAQ,KACzB,CAAK,EAED,aAAa,WAAWC,CAAe,EACvCH,EAAK,MAAK,CACd,CAAC"}